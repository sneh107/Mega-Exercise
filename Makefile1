SDIR = ./src
ODIR = ./obj
OUT = ./out
HDIR = ./header

CFILES = $(wildcard $(SDIR)/*.c)
OFILES = $(patsubst $(SDIR)/%.c,$(ODIR)/%.o,$(CFILES))
EXEFILES = $(patsubst $(SDIR)/%.c,$(OUT)/%,$(CFILES))

all: $(OUT)/app

$(OUT)/app: $(OFILES)
	gcc $^ -o $@

$(ODIR)/%.o: $(SDIR)/%.c
	@mkdir -p obj out
	gcc -c $< -o $@ -I$(HDIR)
	
clean:
	rm -rf $(ODIR) $(OUT)
	
.PHONY: all clean